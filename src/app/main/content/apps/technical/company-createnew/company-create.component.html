<div class="page-layout simple fullwidth" fxLayout="column" fusePerfectScrollbar>
	<!-- HEADER -->
	<div class="header mat-accent-bg p-24 h-100" fxLayout="row" fxLayoutAlign="start center">
		<div fxLayout="column" fxLayoutAlign="center start">
			<div class="h1 mt-16">{{company.CompanyID>0?'Technician Company update': 'Technician Company Create'}}</div>
		</div>
	</div>
	<!-- / HEADER -->
	<div class="mat-elevation-z4 p-20 m-20">
		<div fxLayout="row" style="width: 100%">
			<div fxLayout="column" style="width: 100%;">
				<!-- <div fxLayout="row">
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Status" [(ngModel)]="company.Status">
					</mat-form-field>
				</div> -->
				<div fxLayout="row">
					<mat-form-field class="example-full-width" style="margin-right: 10px;">
						<input matInput placeholder="Company" [(ngModel)]="company.Company" #Company="ngModel" pattern="[^\s]+[a-zA-Z0-9 ]+[^]*" required>
						<mat-error *ngIf="Company.invalid && (Company.dirty || Company.touched)">Company Name is required.</mat-error>
					</mat-form-field>

					<mat-form-field class="example-full-width">
						<input matInput placeholder="Contact" [(ngModel)]="company.Contact">
					</mat-form-field>
				</div>
				<!-- <mat-form-field class="example-full-width">
					<textarea matInput placeholder="Model" [(ngModel)]="model"></textarea>
				</mat-form-field> -->

				<div fxLayout="row">
					<mat-form-field class="example-full-width" style="margin-right: 10px;">
						<input matInput placeholder="Address1" [(ngModel)]="company.Address1">
					</mat-form-field>
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Address2" [(ngModel)]="company.Address2">
					</mat-form-field>
				</div>
				<div fxLayout="row">
					<mat-form-field class="example-full-width" style="margin-right: 10px;">
						<input matInput placeholder="City" [(ngModel)]="company.City">
					</mat-form-field>
					<mat-form-field class="example-full-width" style="margin-right: 10px;">
						<input matInput placeholder="State" [(ngModel)]="company.State">
					</mat-form-field>
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Zip" [(ngModel)]="company.Zip" pattern="[0-9]+|([0-9]+(-[0-9]+))" maxlength="25" #Zip="ngModel">
						<mat-error *ngIf="Zip.invalid && (Zip.dirty || Zip.touched)">
							Please enter a valid Zip Code.
							</mat-error>
					</mat-form-field>
				</div>
				<div fxLayout="row">
					<mat-form-field class="example-full-width" style="margin-right: 10px;">
						<input matInput placeholder="Cell" [(ngModel)]="company.Cell"   minlength="10" #Cell="ngModel" >
						<mat-error *ngIf="Cell.invalid && (Cell.dirty || Cell.touched)">
							Please enter a valid Cell Number.
						</mat-error>
					</mat-form-field>
					<!-- <mat-form-field class="example-full-width">
						<input matInput placeholder="UDF1" [(ngModel)]="company.udf1" pattern="[0-9]+" #udf1="ngModel">
						<mat-error *ngIf="udf1.invalid && (udf1.dirty || udf1.touched)">
								Please enter integer value.
							</mat-error>
					</mat-form-field> -->
				</div>
				<div fxLayout="row">
					<mat-form-field class="example-full-width" style="margin-right: 10px;">
						<input matInput placeholder="Phone" [(ngModel)]="company.Phone" (keypress) = "phoneNumberVerification_Phone($event.target.value)" maxlength="14" minlength="10" #Phone="ngModel">
						<mat-error *ngIf="Phone.invalid && (Phone.dirty || Phone.touched)">
							Phone must be a valid Phone Number.
						</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width" style="margin-right: 10px;">
						<input matInput placeholder="Ext" [(ngModel)]="company.Ext" maxlength="30"  #Ext="ngModel">
					</mat-form-field>
					<mat-form-field class="example-full-width">
						<input type="email" matInput placeholder="Email" [(ngModel)]="company.Email" pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{1,}[.]{1}[a-zA-Z]{1,}" #Email="ngModel">
						<mat-error *ngIf="Email.invalid && (Email.dirty || Email.touched)">
							Please enter a valid email ID.
						</mat-error>
					</mat-form-field>
				</div>
				<mat-form-field class="example-full-width">
					<input matInput placeholder="Notes" [(ngModel)]="company.Notes">
				</mat-form-field>
			</div>

		</div>
		<!-- <div fxLayout="column" style="width: 100%;margin: 30px 0px; ">
			<h1>Insurance</h1>
			<div fxLayout="row">
				<div fxLayout="column" style="width: 50%;margin-right: 20px; ">
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Agency" [(ngModel)]="company.Insurance">
					</mat-form-field>
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Contact No" [(ngModel)]="company.INSURPHO" pattern="[0-9]+" #INSURPHO="ngModel" maxlength="10">
						<mat-error *ngIf="INSURPHO.invalid && (INSURPHO.dirty || INSURPHO.touched)">
							Please enter a valid Contact Number.
						</mat-error>
					</mat-form-field>
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Carrier" [(ngModel)]="company.INSURAGT">
					</mat-form-field>
				</div>
				<div fxLayout="column" style="width: 50%;">
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Policy #" [(ngModel)]="company.Policy">
					</mat-form-field>
					<mat-form-field>
						<input matInput [matDatepicker]="picker12" placeholder="Expire" [(ngModel)]="company.INSUREXP" #INSUREXP="ngModel">
						<mat-datepicker-toggle matSuffix [for]="picker12"></mat-datepicker-toggle>
						<mat-datepicker #picker12></mat-datepicker>
					</mat-form-field>
					<mat-form-field class="example-full-width">
						<input matInput placeholder="Liability Amount" [(ngModel)]="company.Liability" pattern="[0-9]+" #Liability="ngModel">
						<mat-error *ngIf="Liability.invalid && (Liability.dirty || Liability.touched)">
							Please enter a valid Liability Amount.
						</mat-error>
					</mat-form-field>
				</div>
			</div>
		</div>
		<div fxLayout="row" style="width: 100%;margin: 50px 20px 50px 0px;">
			<div fxLayout="column" style="width: 100%">
				<h1>Licenses</h1>
				<div fxLayout="row" style="width: 100%">
					<mat-checkbox style="padding-top: 24px;margin-right: 20px;width: 10%" [(ngModel)]="company.Cert_City">City&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</mat-checkbox>
					<mat-form-field class="example-full-width" style="margin-right: 20px;width: 50%">
						<input matInput placeholder="License #" [(ngModel)]="company.CITYLICNUM">
					</mat-form-field>
					<mat-form-field style="width: 40%">
						<input matInput [matDatepicker]="picker13" placeholder="Expire" [(ngModel)]="company.LICEXPDATE" #LICEXPDATE="ngModel">
						<mat-datepicker-toggle matSuffix [for]="picker13"></mat-datepicker-toggle>
						<mat-datepicker #picker13></mat-datepicker>
					</mat-form-field>
				</div>
				<div fxLayout="row">
					<mat-checkbox style="padding-top: 24px;margin-right: 20px;width: 10%" [(ngModel)]="company.Cert_County">County</mat-checkbox>
					<mat-form-field class="example-full-width" style="margin-right: 20px;width: 50%">
						<input matInput placeholder="License #" [(ngModel)]="company.CntyLicNum">
					</mat-form-field>
					<mat-form-field style="width: 40%">
						<input matInput [matDatepicker]="picker14" placeholder="Expire" [(ngModel)]="company.County_Expire" #County_Expire="ngModel">
						<mat-datepicker-toggle matSuffix [for]="picker14"></mat-datepicker-toggle>
						<mat-datepicker #picker14></mat-datepicker>
					</mat-form-field>
				</div>
			</div>
		</div> -->
		

		<!-- <div fxLayout="column" style="width: 100%;margin: 50px 0px">
			<h1>Company's Web Login</h1>
			<div fxLayout="row">
				<mat-form-field class="example-full-width" style="width:50%;margin-right: 20px;">
					<input matInput placeholder="User Id" [(ngModel)]="company.CompanyUserID">
				</mat-form-field>
				<mat-form-field class="example-full-width" style="width:50%;">
					<input matInput placeholder="Password" [(ngModel)]="company.Password">
				</mat-form-field>
			</div>
		</div> -->
		<!-- <div fxLayout="column" style="width: 100%;margin: 30px 0px;">
			<h1>Certification</h1>
			<div fxLayout="row">
				<mat-checkbox style="padding-top: 24px;" [(ngModel)]="company.Cert_Test">Test</mat-checkbox>
				<mat-checkbox style="padding-top: 24px;margin-left: 25px;" [(ngModel)]="company.Cert_Repair">Repair</mat-checkbox>
				<mat-checkbox style="padding-top: 24px;margin-left: 25px;" [(ngModel)]="company.Cert_Confine">Confined Space</mat-checkbox>
				<mat-checkbox style="padding-top: 24px;margin-left: 25px;" [(ngModel)]="company.Cert_Survey">Survey</mat-checkbox>
				<mat-checkbox style="padding-top: 24px;margin-left: 25px;" [(ngModel)]="company.Cert_Land">Landscape</mat-checkbox>
				<mat-checkbox style="padding-top: 24px;margin-left: 25px;" [(ngModel)]="company.Cert_Install">Installation</mat-checkbox>
				<mat-checkbox style="padding-top: 24px;margin-left: 25px;" [(ngModel)]="company.Cert_Fire">Fire</mat-checkbox>

			</div>
		</div> -->
		<div fxLayout="column" style="width: 100%;margin: 30px 0px;">

			<h1>TestKit</h1>

			<div fxLayoutAlign="end center">
				<mat-icon _ngcontent-c35="" class="add-hazard-btn secondary-text s-30 mat-icon material-icons" role="img" aria-hidden="true"
				 (click)="addTestkit()">add</mat-icon>
			</div>
			
			<div fxLayout="row" *ngFor="let testKit of testKitList; let i=index;">				
				<!-- <mat-form-field style="margin-right: 20px; width: 30%;">
					<input type="text" [(ngModel)]="company.testkitID" placeholder="Test Kit" aria-label="Number" (keypress)="searchTestkit($event.target.value)" matInput
					[matAutocomplete]="auto">
					<mat-autocomplete #auto="matAutocomplete">
						<mat-option *ngFor="let item of searchResult" [value]="item.SerialNum">
							{{ item.SerialNum }}
						</mat-option>
					</mat-autocomplete>
				</mat-form-field> -->


				
				
					<mat-form-field style="margin-right: 20px;width: 50%;">
						<input type="text" [(ngModel)]="testKit.id" [ngModelOptions]="{standalone: true}" placeholder="Select Test Kit" aria-label="Number" (keypress)="searchTestkit($event.target.value)" matInput
						[matAutocomplete]="auto">
						<mat-autocomplete #auto="matAutocomplete">
							<mat-option *ngFor="let item of searchResult" value="{{item.SerialNum}}">
								{{ item.SerialNum }} 
							</mat-option>
						</mat-autocomplete>
					
					</mat-form-field>
					<mat-icon class="add-hazard-btn secondary-text s-30 mat-icon material-icons" role="img" aria-hidden="true" (click)="removeTestKit(i)">remove</mat-icon>
				
				
	
			</div>
		</div>
		

		<div class="form-hazard-creation-btn" fxLayoutAlign="center center">
			<button mat-raised-button color="accent" class="submit-button" [disabled]="Company.invalid||Zip.invalid||Email.invalid||Cell.invalid||Phone.invalid" (click)="save()">{{company.CompanyID>0?'Update': 'Create'}}</button>
		</div>
	</div>
</div>